{"version":3,"sources":["../../../src/js/register.js","../../../bower_components/instagramas/dist/instagramas.js","../../../src/js/lib/viewport.js","../../../src/js/lib/smooth-scroll.min.js","../../../src/js/lib/requestAnimFrame.js","../../../src/js/fader.js","../../../src/js/menu.js","../../../src/js/images.js","../../../src/js/scroller.js"],"names":["navigator","serviceWorker","register","scope","then","reg","console","log","catch","error","exports","global","$w","window","$d","document","API_PREFIX","data","data-show-tags","attributeName","defaultValue","data-show-tags-count","data-show-likes","data-render-type","data-count","maxValue","placeholderSize","thumbnail","low_resolution","standard_resolution","template","tag","HTMLElement","_","c","o","i","length","createElement","new","e","cloneNode","isBoolean","b","valueOf","count","done","serialize","obj","prefix","str","p","hasOwnProperty","k","v","push","encodeURIComponent","join","load","url","script","src","async","onload","onreadystatechange","this","readyState","parentNode","removeChild","getElementsByTagName","appendChild","get","params","callback","query","fname","Date","response","Instagramas","element","$this","access_token","getAttribute","undefined","removeAttribute","children","childrenLoaded","member","parseInt","source","create","prototype","childLoaded","ready","setAttribute","success","call","Instagrama","$parent","parent","render","$data","hasData","figure","className","renderType","a","target","drawImage","drawLikes","drawTags","href","link","size","img","style","id","caption","text","images","apply","arguments","showLikes","likes","likescaption","innerHTML","showTags","tagscaption","tags","t","showTagsCount","replace","context","_r","f","test","setTimeout","instagramas","querySelectorAll","namespace","_instagramas_namespace","collection","start","on","_collection","once","d","off","listener","splice","removeAllListeners","listeners","emit","slice","shift","define","amd","module","Jvent","win","doc","docEl","documentElement","addEventListener","attachEvent","RESIZE","SCROLL","resized","scrolled","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","update","eve","refresh","Viewport","getInstance","init","that","calculateDeviceDimensions","updateloop","device","calculateDimensions","height","clientHeight","width","clientWidth","screen","calculateScroll","cachedTop","scrollY","cachedBottom","bottom","pageYOffset","scrollTop","scrollX","pageXOffset","scrollLeft","body","scrollHeight","calculateOffset","top","right","left","calculateMousePostition","coordX","coordY","event","pageX","pageY","clientX","clientY","posX","posY","calculateOrientation","orientation","Math","abs","inViewport","el","r","getBoundingClientRect","isVisible","viewport","smoothScroll","n","u","selector","selectorHeader","speed","easing","offset","updateURL","l","Object","toString","s","max","offsetHeight","charAt","substr","split","classList","contains","RegExp","hasAttribute","tagName","toLowerCase","escapeCharacters","String","charCodeAt","InvalidCharacterError","h","offsetParent","offsetTop","m","JSON","parse","g","history","pushState","location","protocol","host","pathname","search","animateScroll","y","querySelector","O","S","I","H","E","j","C","L","innerHeight","clearInterval","focus","w","scrollTo","floor","A","setInterval","button","metaKey","ctrlKey","preventDefault","hash","destroy","removeEventListener","lastTime","vendors","x","cancelAnimationFrame","currTime","getTime","timeToCall","clearTimeout","RITHM","FADE_TIMEOUT","FadeElement","$img","baseClassName","fadeIn","fadeOut","reset","prepare","Orchestrator","orchestra","$faders","$fader","len","$figure","$imgs","iterator","iteration","prev_iteration","next_iteration","$element","$prev_element","$next_element","$last_element","iterate","last_iteration","nav","toggler","toggle","anchor","getElementById","ImageElement","meta","isMobile","isVertical","verticalPosFix","verticalEdge","highResSrc","resolve","userAgent","isHero","useHighRes","updateSrc","preload","Image"],"mappings":"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","file":"marcelaviola.com.min.js","sourcesContent":[";\n/*\n * Register\n */\n\n(function(navigator) {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.register('/service-worker.js', { scope: '/' })\n            .then(function(reg) {\n                console.log('Registration succeeded. Scope is ' + reg.scope);\n            }).catch(function(error) {\n                console.log('Registration failed with ' + error);\n            });\n    }\n}(navigator));","/*! instagramas 1.2.0 2017-06-18 */\n(function(exports, global) {\n    var $w = window, $d = document;\n    var API_PREFIX = \"https://api.instagram.com/v1/users/self/media/recent/?\";\n    var data = {\n        \"data-show-tags\": {\n            attributeName: \"showTags\",\n            defaultValue: false\n        },\n        \"data-show-tags-count\": {\n            attributeName: \"showTagsCount\",\n            defaultValue: 1\n        },\n        \"data-show-likes\": {\n            attributeName: \"showLikes\",\n            defaultValue: false\n        },\n        \"data-render-type\": {\n            attributeName: \"renderType\",\n            defaultValue: \"thumbnail\"\n        },\n        \"data-count\": {\n            attributeName: \"count\",\n            defaultValue: 5,\n            maxValue: 20\n        }\n    };\n    var placeholderSize = {\n        thumbnail: \"150\",\n        low_resolution: \"320\",\n        standard_resolution: \"640\"\n    };\n    var template = {\n        tag: '<span class=\"instagrama-tag\">{{tag}}</span>'\n    };\n    var HTMLElement = {\n        _: function(c) {\n            var o = {};\n            for (var i = 0; i < c.length; i += 1) {\n                o[c[i]] = $d.createElement(c[i]);\n            }\n            return o;\n        }([ \"div\", \"figure\", \"figcaption\", \"img\", \"a\" ]),\n        \"new\": function(e) {\n            return HTMLElement._[e].cloneNode(false);\n        }\n    };\n    function isBoolean(b) {\n        return typeof b === \"boolean\" || typeof b === \"object\" && typeof b.valueOf() === \"boolean\";\n    }\n    var count = 0, done = 0;\n    function serialize(obj, prefix) {\n        var str = [];\n        for (var p in obj) {\n            if (obj.hasOwnProperty(p)) {\n                var k = prefix ? prefix + \"[\" + p + \"]\" : p, v = obj[p];\n                str.push(typeof v == \"object\" ? serialize(v, k) : encodeURIComponent(k) + \"=\" + encodeURIComponent(v));\n            }\n        }\n        return str.join(\"&\");\n    }\n    function load(url) {\n        var script = document.createElement(\"script\"), done = 0;\n        script.src = url;\n        script.async = true;\n        script.onload = script.onreadystatechange = function() {\n            if (!done && (!this.readyState || this.readyState === \"loaded\" || this.readyState === \"complete\")) {\n                done = true;\n                script.onload = script.onreadystatechange = null;\n                if (script && script.parentNode) {\n                    script.parentNode.removeChild(script);\n                }\n            }\n        };\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\n    }\n    function get(url, params, callback) {\n        var query = \"\";\n        if (typeof params === \"function\" && typeof callback === \"undefined\") {\n            callback = params;\n        } else {\n            query = serialize(params);\n        }\n        count += 1;\n        var fname = \"phealer\" + \"_\" + new Date().valueOf() + count;\n        window[fname] = function(response) {\n            callback && callback(response);\n            try {\n                delete window[fname];\n            } catch (e) {}\n            window[fname] = null;\n        };\n        load(url + query + \"&amp;callback=\" + fname);\n    }\n    var Instagramas = function(element) {\n        var $this = this;\n        var access_token = element.getAttribute(\"data-access-token\");\n        if (access_token === undefined || access_token === null) {\n            throw \"Instagramas missing access token: Instagramas needs access token to fetch information from instragram.\";\n        } else {\n            element.removeAttribute(\"data-access-token\");\n        }\n        $this.element = element;\n        $this.children = [];\n        $this.childrenLoaded = 1;\n        for (var member in data) {\n            $this[data[member].attributeName] = isBoolean(data[member].defaultValue) ? element.getAttribute(member) === \"true\" || data[member].defaultValue : element.getAttribute(member) || data[member].defaultValue;\n        }\n        $this.count = parseInt($this.count > data[\"data-count\"].maxValue ? data[\"data-count\"].maxValue : $this.count, 10);\n        var source = API_PREFIX + \"count=\" + $this.count + \"&amp;\" + \"access_token=\" + access_token;\n        $this.create().get(source, $this.create);\n    };\n    Instagramas.prototype.childLoaded = function() {\n        var $this = this;\n        console.log(\"childLoaded\", typeof $this.childrenLoaded, $this.childrenLoaded, \"this.count\", typeof $this.count, $this.count);\n        if ($this.count === $this.childrenLoaded) {\n            console.log(\"done! childrenLoaded for \", $this);\n            $this.childrenLoaded = null;\n            delete $this.childrenLoaded;\n            return $this.ready();\n        }\n        $this.childrenLoaded += 1;\n        return $this;\n    };\n    Instagramas.prototype.ready = function() {\n        this.element.setAttribute(\"data-state\", \"ready\");\n        return this;\n    };\n    Instagramas.prototype.get = function(source, callback) {\n        var $this = this;\n        $this.element.setAttribute(\"data-state\", \"get:in-progress\");\n        function success(response) {\n            $this.element.setAttribute(\"data-state\", \"get:success\");\n            callback.call($this, response);\n        }\n        get(source, success);\n        return $this;\n    };\n    Instagramas.prototype.create = function(response) {\n        var i;\n        for (i = 0; i < this.count; i += 1) {\n            var data = response && response.data && response.data[i];\n            if (this.children[i] && data) {\n                this.children[i].load(data);\n            } else {\n                this.children.push(new Instagrama(this));\n            }\n        }\n        this.element.setAttribute(\"data-state\", \"created\");\n        return this;\n    };\n    var Instagrama = function($parent) {\n        if (!$parent) {\n            return this;\n        }\n        this.parent = $parent;\n        this.element = {};\n        this.render();\n        return this;\n    };\n    Instagrama.prototype.load = function($data) {\n        if (!$data) {\n            return this;\n        }\n        this.data = $data;\n        this.render();\n        return this;\n    };\n    Instagrama.prototype.hasData = function() {\n        return typeof this.data !== \"undefined\" && this.data;\n    };\n    Instagrama.prototype.render = function() {\n        var $this = this;\n        if (!$this.element.figure) {\n            $this.element.figure = HTMLElement.new(\"figure\");\n            $this.element.figure.className = \"instagrama-\" + $this.parent.renderType;\n            $this.element.a = HTMLElement.new(\"a\");\n            $this.element.a.target = \"_blank\";\n            $this.element.a.className = \"instagrama\";\n            $this.element.figure.appendChild($this.element.a);\n        }\n        $this.drawImage().drawLikes().drawTags();\n        $this.parent.element.appendChild($this.element.figure);\n        if ($this.hasData()) {\n            $this.element.a.href = $this.data.link;\n        }\n        return $this;\n    };\n    Instagrama.prototype.drawImage = function() {\n        var $this = this, size = 0;\n        if (!$this.element.img) {\n            $this.element.img = HTMLElement.new(\"img\");\n            $this.element.img.className = \"placeholder\";\n            size = placeholderSize[$this.parent.renderType];\n            if (size) {\n                $this.element.img.style = [ \"width:\", size, \"px;height:\", size, \"px;\" ].join();\n            }\n            $this.element.a.appendChild($this.element.img);\n        }\n        if ($this.hasData()) {\n            $this.element.img.setAttribute(\"id\", \"i\" + $this.data.id);\n            $this.element.img.setAttribute(\"alt\", $this.data.caption.text);\n            $this.element.img.setAttribute(\"src\", $this.data.images[$this.parent.renderType].url);\n            $this.element.img.onload = function() {\n                $this.parent.childLoaded.apply($this.parent, arguments);\n            };\n        }\n        return $this;\n    };\n    Instagrama.prototype.drawLikes = function() {\n        if (!this.parent.showLikes) {\n            return this;\n        }\n        var $this = this, likes = 0;\n        if (!$this.element.likescaption) {\n            $this.element.likescaption = HTMLElement.new(\"figcaption\");\n            $this.element.likescaption.className = \"instagrama-likes\";\n            $this.element.a.appendChild($this.element.likescaption);\n        }\n        if ($this.hasData()) {\n            $this.element.likescaption.innerHTML = $this.data.likes.count;\n        }\n        return $this;\n    };\n    Instagrama.prototype.drawTags = function() {\n        if (!this.parent.showTags) {\n            return this;\n        }\n        var $this = this;\n        if (!$this.element.tagscaption) {\n            $this.element.tagscaption = HTMLElement.new(\"figcaption\");\n            $this.element.tagscaption.className = \"instagrama-tags\";\n            $this.element.a.appendChild($this.element.tagscaption);\n        }\n        if ($this.hasData()) {\n            var tags = \"\", i, t = $this.parent.showTagsCount || $this.data.tags.length;\n            for (i = 0; i < t; i += 1) {\n                if (!$this.data.tags[i]) {\n                    continue;\n                }\n                tags += template.tag.replace(\"{{tag}}\", $this.data.tags[i]);\n            }\n            $this.element.tagscaption.innerHTML = tags;\n        }\n        return $this;\n    };\n    var context = this;\n    function _r(f) {\n        /in/.test(document.readyState) ? setTimeout(function() {\n            _r.call(context, f);\n        }, 9) : f.call(context);\n    }\n    var instagramas = $d.querySelectorAll(\".instagramas\");\n    if (instagramas !== undefined || instagramas !== null) {\n        var namespace = $w._instagramas_namespace || \"_Instagramas\";\n        $w._instagramas_namespace = namespace;\n        $w[namespace] = {\n            collection: []\n        };\n        _r(function start() {\n            for (var i = 0; i < instagramas.length; i += 1) {\n                $w[namespace].collection.push(new Instagramas(instagramas[i]));\n            }\n        });\n    }\n    global[\"true\"] = exports;\n})({}, function() {\n    return this;\n}());\n//# sourceMappingURL=instagramas.min.js.map","// source https://github.com/pazguille/viewport/\n!function(a){\"use strict\";function b(){}b.prototype.on=function(a,b){return this._collection=this._collection||{},this._collection[a]=this._collection[a]||[],this._collection[a].push(b),this},b.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return c.listener=b,this.on(a,c),this},b.prototype.off=function(a,b){var c=this._collection[a],d=0;if(void 0!==c)for(d;d<c.length;d+=1)if(c[d]===b||c[d].listener===b){c.splice(d,1);break}return 0===c.length&&this.removeAllListeners(a),this},b.prototype.removeAllListeners=function(a){return this._collection=this._collection||{},delete this._collection[a],this},b.prototype.listeners=function(a){return this._collection=this._collection||{},this._collection[a]},b.prototype.emit=function(){if(void 0===this._collection)return this;var a,b=[].slice.call(arguments,0),c=b.shift(),d=this._collection[c],e=0;if(d)for(d=d.slice(0),a=d.length,e;a>e;e+=1)d[e].apply(this,b);return this},\"function\"==typeof a.define&&void 0!==a.define.amd?a.define(\"Jvent\",[],function(){return b}):\"undefined\"!=typeof module&&void 0!==module.exports?module.exports=b:a.Jvent=b}(this);\n(function (window) {\n    'use strict';\n\n    /**\n     * Module dependencies.\n     */\n    var win = window,\n        doc = win.document,\n        docEl = doc.documentElement,\n        Jvent = win.Jvent,\n        on = win.addEventListener || win.attachEvent,\n        RESIZE = (on === win.attachEvent) ? 'onresize' : 'resize',\n        SCROLL = (on === win.attachEvent) ? 'onscroll' : 'scroll',\n        resized = false,\n        scrolled = false,\n        requestAnimFrame = (function () {\n            return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                function (callback) {\n                    window.setTimeout(callback, 1000 / 60);\n                };\n        }());\n\n    function update() {\n\n        // No changing, exit\n        if (!resized && !scrolled) { return; }\n\n        var eve = resized ? 'resize' : 'scroll';\n\n        // Updates viewport\n        this.refresh();\n\n        // Change status\n        resized = false;\n        scrolled = false;\n\n        // Emits the current event\n        this.emit(eve);\n    }\n\n    /**\n     * Events\n     */\n    on(RESIZE, function () { resized = true; });\n    on(SCROLL, function () { scrolled = true; });\n\n\n    /**\n     * Viewport class\n     */\n    function Viewport() {\n\n        // Singleton pattern\n        if (!(this instanceof Viewport) && Viewport.getInstance === undefined) {\n            return new Viewport();\n        }\n\n        if (Viewport.getInstance) {\n            return Viewport.getInstance;\n        }\n\n        this.init();\n\n        return this;\n    }\n\n    Viewport.prototype = new Jvent();\n\n    Viewport.prototype.init = function () {\n        var that = this;\n\n        that.refresh();\n        that.calculateDeviceDimensions();\n\n        (function updateloop() {\n            requestAnimFrame(updateloop);\n            update.call(that);\n        }());\n\n        Viewport.getInstance = this;\n\n        return this;\n    };\n\n    Viewport.prototype.device = {};\n\n    Viewport.prototype.calculateDimensions = function () {\n        this.height = docEl.clientHeight;\n        this.width = docEl.clientWidth;\n\n        return this;\n    };\n\n    Viewport.prototype.calculateDeviceDimensions = function () {\n        this.device.height = win.screen.height;\n        this.device.width = win.screen.width;\n\n        return this;\n    };\n\n    Viewport.prototype.calculateScroll = function () {\n        var cachedTop = this.scrollY,\n            cachedBottom = this.height + cachedTop,\n            bottom;\n\n        this.scrollY = win.pageYOffset || docEl.scrollTop;\n        this.scrollX = win.pageXOffset || docEl.scrollLeft;\n        bottom = this.height + this.scrollY;\n\n        if (cachedTop !== this.scrollY && this.scrollY === 0) {\n            this.emit('top');\n\n        } else if (cachedBottom !== bottom && bottom >= doc.body.scrollHeight) {\n            this.emit('bottom');\n        }\n\n        return this;\n    };\n\n    Viewport.prototype.calculateOffset = function () {\n        this.top = this.scrollY;\n        this.right = this.scrollX + this.width;\n        this.bottom = this.scrollY + this.height;\n        this.left = this.scrollX;\n\n        return this;\n    };\n\n    Viewport.prototype.calculateMousePostition = function (eve) {\n        // add support for touch events ==> eve.changedTouches;\n        var coordX = 0,\n            coordY = 0;\n\n        eve = eve || window.event;\n\n        if (eve.pageX || eve.pageY) {\n            coordX = eve.pageX;\n            coordY = eve.pageY;\n\n        } else {\n            coordX = eve.clientX + doc.body.scrollLeft + docEl.scrollLeft;\n            coordY = eve.clientY + doc.body.scrollTop + docEl.scrollTop;\n        }\n\n        return {\n            'posX': coordX,\n            'posY': coordY\n        };\n\n    };\n\n    Viewport.prototype.calculateOrientation = function () {\n        this.orientation = (Math.abs(win.orientation) === 90)\n            ? 'landscape'\n            : 'portrait';\n\n        return this;\n    };\n\n    Viewport.prototype.inViewport = function (el) {\n        var r = el.getBoundingClientRect();\n\n        return (r.top >= 0) && (r.right <= this.width)\n            && (r.bottom <= this.height) && (r.left >= 0);\n    };\n\n    Viewport.prototype.isVisible = function (el) {\n        var r = el.getBoundingClientRect();\n\n        return (r.bottom >= 0 && r.top <= this.height);\n    };\n\n    Viewport.prototype.refresh = function () {\n        this.calculateDimensions();\n        this.calculateScroll();\n        this.calculateOffset();\n        this.calculateOrientation();\n\n        return this;\n    };\n\n    /**\n     * Expose Viewport\n     */\n    // AMD suppport\n    if (typeof window.define === 'function' && window.define.amd !== undefined) {\n        window.define('viewport', [], function () {\n            return new Viewport();\n        });\n\n    // CommonJS suppport\n    } else if (typeof module !== 'undefined' && module.exports !== undefined) {\n        module.exports = new Viewport();\n\n    // Default\n    } else {\n        window.viewport = new Viewport();\n    }\n}(this));","/*! smooth-scroll v9.1.1 | (c) 2016 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t(e)):\"object\"==typeof exports?module.exports=t(e):e.smoothScroll=t(e)}(\"undefined\"!=typeof global?global:this.window||this.global,function(e){\"use strict\";var t,n,r,o,a,c={},u=\"querySelector\"in document&&\"addEventListener\"in e,i={selector:\"[data-scroll]\",selectorHeader:\"[data-scroll-header]\",speed:500,easing:\"easeInOutCubic\",offset:0,updateURL:!0,callback:function(){}},l=function(){var e={},t=!1,n=0,r=arguments.length;\"[object Boolean]\"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],n++);for(var o=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t&&\"[object Object]\"===Object.prototype.toString.call(n[r])?e[r]=l(!0,e[r],n[r]):e[r]=n[r])};r>n;n++){var a=arguments[n];o(a)}return e},s=function(e){return Math.max(e.scrollHeight,e.offsetHeight,e.clientHeight)},f=function(e,t){var n,r,o=t.charAt(0),a=\"classList\"in document.documentElement;for(\"[\"===o&&(t=t.substr(1,t.length-2),n=t.split(\"=\"),n.length>1&&(r=!0,n[1]=n[1].replace(/\"/g,\"\").replace(/'/g,\"\")));e&&e!==document;e=e.parentNode){if(\".\"===o)if(a){if(e.classList.contains(t.substr(1)))return e}else if(new RegExp(\"(^|\\\\s)\"+t.substr(1)+\"(\\\\s|$)\").test(e.className))return e;if(\"#\"===o&&e.id===t.substr(1))return e;if(\"[\"===o&&e.hasAttribute(n[0])){if(!r)return e;if(e.getAttribute(n[0])===n[1])return e}if(e.tagName.toLowerCase()===t)return e}return null};c.escapeCharacters=function(e){\"#\"===e.charAt(0)&&(e=e.substr(1));for(var t,n=String(e),r=n.length,o=-1,a=\"\",c=n.charCodeAt(0);++o<r;){if(t=n.charCodeAt(o),0===t)throw new InvalidCharacterError(\"Invalid character: the input contains U+0000.\");a+=t>=1&&31>=t||127==t||0===o&&t>=48&&57>=t||1===o&&t>=48&&57>=t&&45===c?\"\\\\\"+t.toString(16)+\" \":t>=128||45===t||95===t||t>=48&&57>=t||t>=65&&90>=t||t>=97&&122>=t?n.charAt(o):\"\\\\\"+n.charAt(o)}return\"#\"+a};var d=function(e,t){var n;return\"easeInQuad\"===e&&(n=t*t),\"easeOutQuad\"===e&&(n=t*(2-t)),\"easeInOutQuad\"===e&&(n=.5>t?2*t*t:-1+(4-2*t)*t),\"easeInCubic\"===e&&(n=t*t*t),\"easeOutCubic\"===e&&(n=--t*t*t+1),\"easeInOutCubic\"===e&&(n=.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1),\"easeInQuart\"===e&&(n=t*t*t*t),\"easeOutQuart\"===e&&(n=1- --t*t*t*t),\"easeInOutQuart\"===e&&(n=.5>t?8*t*t*t*t:1-8*--t*t*t*t),\"easeInQuint\"===e&&(n=t*t*t*t*t),\"easeOutQuint\"===e&&(n=1+--t*t*t*t*t),\"easeInOutQuint\"===e&&(n=.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t),n||t},h=function(e,t,n){var r=0;if(e.offsetParent)do r+=e.offsetTop,e=e.offsetParent;while(e);return r=r-t-n,r>=0?r:0},m=function(){return Math.max(e.document.body.scrollHeight,e.document.documentElement.scrollHeight,e.document.body.offsetHeight,e.document.documentElement.offsetHeight,e.document.body.clientHeight,e.document.documentElement.clientHeight)},p=function(e){return e&&\"object\"==typeof JSON&&\"function\"==typeof JSON.parse?JSON.parse(e):{}},g=function(t,n){e.history.pushState&&(n||\"true\"===n)&&\"file:\"!==e.location.protocol&&e.history.pushState(null,null,[e.location.protocol,\"//\",e.location.host,e.location.pathname,e.location.search,t].join(\"\"))},b=function(e){return null===e?0:s(e)+e.offsetTop};c.animateScroll=function(n,c,u){var s=p(c?c.getAttribute(\"data-options\"):null),f=l(t||i,u||{},s),v=\"[object Number]\"===Object.prototype.toString.call(n)?!0:!1,y=v?null:\"#\"===n?e.document.documentElement:e.document.querySelector(n);if(v||y){var O=e.pageYOffset;r||(r=e.document.querySelector(f.selectorHeader)),o||(o=b(r));var S,I,H=v?n:h(y,o,parseInt(f.offset,10)),E=H-O,j=m(),C=0;v||g(n,f.updateURL);var L=function(t,r,o){var a=e.pageYOffset;(t==r||a==r||e.innerHeight+a>=j)&&(clearInterval(o),v||y.focus(),f.callback(n,c))},w=function(){C+=16,S=C/parseInt(f.speed,10),S=S>1?1:S,I=O+E*d(f.easing,S),e.scrollTo(0,Math.floor(I)),L(I,H,a)},A=function(){clearInterval(a),a=setInterval(w,16)};0===e.pageYOffset&&e.scrollTo(0,0),A()}};var v=function(e){if(0===e.button&&!e.metaKey&&!e.ctrlKey){var n=f(e.target,t.selector);if(n&&\"a\"===n.tagName.toLowerCase()){e.preventDefault();var r=c.escapeCharacters(n.hash);c.animateScroll(r,n,t)}}},y=function(e){n||(n=setTimeout(function(){n=null,o=b(r)},66))};return c.destroy=function(){t&&(e.document.removeEventListener(\"click\",v,!1),e.removeEventListener(\"resize\",y,!1),t=null,n=null,r=null,o=null,a=null)},c.init=function(n){u&&(c.destroy(),t=l(i,n||{}),r=e.document.querySelector(t.selectorHeader),o=b(r),e.document.addEventListener(\"click\",v,!1),r&&e.addEventListener(\"resize\",y,!1))},c});","// source http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n(function() {\n    var lastTime = 0;\n    var vendors = ['webkit', 'moz'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame =\n          window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());",";/*\n* Fader Interaction\n*/\n(function(window, document) {\n\n/* configuration */\n\n    var RITHM = 1000 * 4; // 4s\n\n    var FADE_TIMEOUT = 500 // 500ms;\n\n/* scope */\n\n/* fade element */\n\n    var FadeElement = function($img) {\n        this.src = $img.src;\n        this.baseClassName = $img.className\n        this.element = $img;\n        return this;\n    }\n\n    FadeElement.prototype.fadeIn = function() {\n        var $this = this;\n        window.setTimeout(function() {\n            if ($this.element) {\n                $this.element.className = $this.baseClassName + ' fade-in';\n            }\n        }, FADE_TIMEOUT);\n        return $this;\n    };\n\n    FadeElement.prototype.fadeOut = function() {\n        var $this = this;\n        window.setTimeout(function() {\n            if ($this.element) {\n                $this.element.className = $this.baseClassName + ' fade-out';\n            }\n        }, FADE_TIMEOUT);\n        return $this;\n    };\n\n    FadeElement.prototype.reset = function() {\n        var $this = this;\n        if ($this.element) {\n            $this.element.className = $this.baseClassName;\n        }\n        return $this;\n    };\n\n    FadeElement.prototype.prepare = function() {\n        var $this = this;\n        if ($this.element) {\n            $this.element.className = $this.baseClassName + ' prepare';\n        }\n        return $this;\n    };\n\n/* Fade orchestrator */\n\n    function Orchestrator(window, document) {\n\n        // collection of Fade instances\n        var orchestra = [];\n\n        var $faders = document.querySelectorAll('.fader');\n        // iterate faders\n        for (var i = 0, $fader, len = $faders.length; i < len; i += 1) {\n             $fader = $faders[i];\n            // iterate images\n            // assign behavior\n            // console.log('fader', $fader);\n            var $figure = $fader.querySelectorAll('figure');\n            // console.log('figure', $figure);\n            var $imgs = $fader.getElementsByTagName('img');\n            // console.log('imgs', $imgs);\n            // console.log('imgs.len', $imgs.length);\n            for (var i = 0, len = $imgs.length; i < len; i += 1) {\n                // console.log('img', $img, $img.src);\n                orchestra[i] = new FadeElement($imgs[i]);\n                // orchestra[$img.src].fadeIn();\n            }\n        }\n\n        var iterator, iteration = 0, prev_iteration, next_iteration;\n        var $element, $prev_element, $next_element, $last_element;\n\n        function iterate() {\n\n            // clean\n            clearTimeout(iterator);\n\n            // maybe is necessary to reste iteration\n            if (iteration===orchestra.length) {\n                // console.log('need to restart iteration')\n                iteration = 0;\n                return iterator = setTimeout(iterate, RITHM || 4000);\n            }\n            // iteration = (iteration===(orchestra.length-1))? 0: iteration;\n            next_iteration = ((iteration+1)===orchestra.length)? 0: iteration+1;\n            prev_iteration = (iteration===0)? (orchestra.length-1): iteration-1;\n            last_iteration = (orchestra.length-2===0)? (orchestra.length-2): iteration-2;\n            // console.log('orchestra.length', orchestra.length);\n            // console.log('prev_iteration', prev_iteration);\n            // console.log('iteration', iteration);\n            // console.log('next_iteration', next_iteration);\n\n            $element = orchestra[iteration];\n            $prev_element = orchestra[prev_iteration];\n            $next_element = orchestra[next_iteration];\n            $last_element = orchestra[last_iteration];\n\n            // console.log(iteration);\n            // console.log($prev_element);\n            // console.log($element);\n            // console.log($next_element);\n\n            if ($last_element) {\n                $last_element.reset();\n            }\n\n            $prev_element.fadeOut();\n            $element.fadeIn();\n            $next_element.prepare();\n\n            iteration += 1;\n            // keep the rithm going\n            iterator = setTimeout(function(){\n                requestAnimationFrame(iterate);\n            }, RITHM || 4000);\n        }\n\n        // start the rithm\n        requestAnimationFrame(iterate);\n\n    }\n\n    // start\n    Orchestrator(window, document);\n\n}(window, document));",";/*\n* Fader Interaction\n*/\n(function(window, document) {\n\n/* configuration */\n\nvar nav, toggler;\n\n/* scope */\n\nfunction toggle(event) {\n\n    var anchor = event.target;\n\n    // Keep bubbling up through DOM until you find an anchor,\n    // you might have clicked the icon or the label element,\n    // and not the proper <a> tag\n    while (!anchor.className) {\n        // break if the #main is reachead\n        if (anchor === this) { break; }\n        // step up in the DOM to the next parent\n        anchor = anchor.parentNode;\n    }\n\n    if (/open/.test(anchor.className)) {\n        nav.className = \"global\";\n        anchor.className = \"toggler\";\n    } else {\n        nav.className = \"global open\";\n        anchor.className = \"toggler open\";\n    }\n}\n\n/* Menu orchestrator */\n\n    function Orchestrator(window, document) {\n\n        nav = document.getElementById('top');\n\n        toggler = document.querySelector('.toggler');\n\n        toggler.addEventListener('click', toggle);\n\n    }\n\n    // start\n    Orchestrator(window, document);\n\n}(window, document));","/**\n * Images.js\n *\n * Cycle all images with data-highres attribute\n * When any image with data-highres becomes\n * visible in the viewport it will load the\n * high resolution source provided in the attribute\n * will also asume that original src attribute\n * is the low resolution source provided\n *\n * @require viewport\n */\n\n(function(window, document) {\n\n    'use strict';\n\n    var viewport = window.viewport;\n    /**\n     * @class ImageElement\n     * @param HTMLImageElement\n     * @return ImageElement\n     */\n\n    var ImageElement = function($img) {\n        var $this = this;\n        $this.src = $img.src;\n        $this.element = $img;\n        $this.element.setAttribute('data-state', 'created');\n        $this.meta = {\n            isVisible: false,\n            isMobile: true,\n            isVertical: true,\n            verticalPosFix: '_v',\n            verticalEdge: 414\n        };\n        $this.baseClassName = $img.className;\n        $this.highResSrc = $img.getAttribute('data-highres');\n        if (!$this.highResSrc) {\n            // there's no highres source\n            // avoid calling resolve triggers\n            return $this;\n        }\n\n        /* resolve triggers */\n\n        $this.resolve();\n\n        if (viewport !== 'undefined') {\n            viewport.on('scroll', function() {\n                $this.resolve.call($this, this);\n            });\n            viewport.on('resize', function() {\n                $this.resolve.call($this, this);\n            });\n        }\n\n        return $this;\n    };\n\n    ImageElement.prototype.isVisible = function() {\n        var $this = this;\n        $this.meta.isVisible = typeof viewport.isVisible === 'function' && viewport.isVisible($this.element);\n        return $this.meta.isVisible;\n    };\n\n    ImageElement.prototype.isMobile = function() {\n        var $this = this;\n        $this.meta.isMobile = /Mobi/.test(navigator.userAgent);\n        return $this.meta.isMobile;\n    };\n\n    ImageElement.prototype.isHero = function() {\n        var $this = this;\n        return /hero/.test($this.src);\n    };\n\n    ImageElement.prototype.isVertical = function() {\n        var $this = this;\n        $this.meta.isVertical = false;\n        if (typeof viewport !== 'undefined') {\n            viewport.calculateDeviceDimensions();\n            $this.meta.isVertical = viewport.height > viewport.width;\n        }\n        return $this.meta.isVertical;\n    };\n\n    /**\n     * Determines if element should load high resolution image\n     * @method resolve\n     * @param viewport\n     * @return ImageElement\n     */\n    ImageElement.prototype.resolve = function() {\n        var $this = this;\n        if (viewport.isVisible($this.element)) {\n            $this.useHighRes();\n        }\n        return $this;\n    };\n\n    /**\n     * Updates src attribute of dom link, triggers a request and re-paint.\n     * @method updateSrc\n     * @return ImageElement\n     */\n    ImageElement.prototype.updateSrc = function() {\n        var $this = this;\n        // maybe no need to update at all\n        if ($this.src === $this.element.src) {\n            return $this;\n        }\n        $this.element.setAttribute('data-state', 'loading');\n        // Add vertical posfix only for Heros in Mobile or Vertical\n        if ($this.isHero() && ($this.isMobile() || $this.isVertical())) {\n            $this.src = $this.src.replace('.', $this.meta.verticalPosFix + '.');\n        }\n        var preload = new Image();\n        preload.src = $this.src;\n        preload.onload = function() {\n            preload = null;\n            $this.element.src = $this.src;\n            $this.element.setAttribute('data-state', 'ready');\n        }\n\n        return $this;\n    };\n\n    /**\n* @!out-of-service\n* Load low resolution source\n* @method useLoweRes\n* @return ImageElement\n    ImageElement.prototype.useLoweRes = function() {\n        var $this = this;\n        if ($this.loweResSrc) {\n            $this.src = $this.loweResSrc;\n            $this.updateSrc();\n        }\n        return $this;\n    };\n*/\n\n    /**\n     * Load high resolution source\n     * @method useHighRes\n     * @return ImageElement\n     */\n    ImageElement.prototype.useHighRes = function() {\n        var $this = this;\n        if ($this.highResSrc) {\n            $this.src = $this.highResSrc;\n            $this.updateSrc();\n        }\n        return $this;\n    };\n\n\n    /**\n     * Finds images and creates a new ImageElement linked to it.\n     * @class orchestrator\n     */\n    function Orchestrator(window, document) {\n\n        var i, $img, $imgs = document.getElementsByTagName('img');\n\n        for (i = 0; i < $imgs.length; i += 1) {\n            $img = $imgs[i];\n            if (!$img.getAttribute('data-highres')) {\n                continue;\n            }\n            new ImageElement($img);\n        }\n    }\n\n    // run orchestrator\n    Orchestrator(window, document);\n\n}(window, document));",";/*\n* Scroller Interaction\n*/\n(function(window, document) {\n\n    smoothScroll.init({ offset: 100 });\n\n}(window, document));"]}