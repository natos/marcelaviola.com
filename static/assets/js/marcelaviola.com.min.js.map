{"version":3,"sources":["../../../src/js/register.js","../../../src/js/lib/viewport.js","../../../src/js/lib/requestAnimFrame.js","../../../src/js/fader.js","../../../src/js/menu.js","../../../src/js/images.js"],"names":["navigator","serviceWorker","register","scope","then","reg","console","log","catch","error","a","b","prototype","on","this","_collection","push","once","c","d","off","apply","arguments","listener","length","splice","removeAllListeners","listeners","emit","slice","call","shift","e","define","amd","module","exports","Jvent","window","win","doc","document","docEl","documentElement","addEventListener","attachEvent","RESIZE","SCROLL","resized","scrolled","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","update","eve","refresh","Viewport","getInstance","undefined","init","that","calculateDeviceDimensions","updateloop","device","calculateDimensions","height","clientHeight","width","clientWidth","screen","calculateScroll","cachedTop","scrollY","cachedBottom","bottom","pageYOffset","scrollTop","scrollX","pageXOffset","scrollLeft","body","scrollHeight","calculateOffset","top","right","left","calculateMousePostition","coordX","coordY","event","pageX","pageY","clientX","clientY","posX","posY","calculateOrientation","orientation","Math","abs","inViewport","el","r","getBoundingClientRect","isVisible","viewport","lastTime","vendors","x","cancelAnimationFrame","element","currTime","Date","getTime","timeToCall","max","id","clearTimeout","RITHM","FADE_TIMEOUT","FadeElement","$img","src","baseClassName","className","fadeIn","$this","fadeOut","reset","prepare","Orchestrator","orchestra","$faders","querySelectorAll","i","$fader","len","$figure","$imgs","getElementsByTagName","iterator","iteration","prev_iteration","next_iteration","$element","$prev_element","$next_element","$last_element","iterate","last_iteration","nav","toggler","toggle","anchor","target","parentNode","test","getElementById","querySelector","ImageElement","setAttribute","meta","isMobile","isVertical","verticalPosFix","verticalEdge","highResSrc","getAttribute","resolve","userAgent","isHero","useHighRes","updateSrc","replace","preload","Image","onload"],"mappings":"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","file":"marcelaviola.com.min.js","sourcesContent":[";\n/*\n * Register\n */\n\n(function(navigator) {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.register('/service-worker.js', { scope: '/' })\n            .then(function(reg) {\n                console.log('Registration succeeded. Scope is ' + reg.scope);\n            }).catch(function(error) {\n                console.log('Registration failed with ' + error);\n            });\n    }\n}(navigator));","// source https://github.com/pazguille/viewport/\n!function(a){\"use strict\";function b(){}b.prototype.on=function(a,b){return this._collection=this._collection||{},this._collection[a]=this._collection[a]||[],this._collection[a].push(b),this},b.prototype.once=function(a,b){function c(){d.off(a,c),b.apply(this,arguments)}var d=this;return c.listener=b,this.on(a,c),this},b.prototype.off=function(a,b){var c=this._collection[a],d=0;if(void 0!==c)for(d;d<c.length;d+=1)if(c[d]===b||c[d].listener===b){c.splice(d,1);break}return 0===c.length&&this.removeAllListeners(a),this},b.prototype.removeAllListeners=function(a){return this._collection=this._collection||{},delete this._collection[a],this},b.prototype.listeners=function(a){return this._collection=this._collection||{},this._collection[a]},b.prototype.emit=function(){if(void 0===this._collection)return this;var a,b=[].slice.call(arguments,0),c=b.shift(),d=this._collection[c],e=0;if(d)for(d=d.slice(0),a=d.length,e;a>e;e+=1)d[e].apply(this,b);return this},\"function\"==typeof a.define&&void 0!==a.define.amd?a.define(\"Jvent\",[],function(){return b}):\"undefined\"!=typeof module&&void 0!==module.exports?module.exports=b:a.Jvent=b}(this);\n(function (window) {\n    'use strict';\n\n    /**\n     * Module dependencies.\n     */\n    var win = window,\n        doc = win.document,\n        docEl = doc.documentElement,\n        Jvent = win.Jvent,\n        on = win.addEventListener || win.attachEvent,\n        RESIZE = (on === win.attachEvent) ? 'onresize' : 'resize',\n        SCROLL = (on === win.attachEvent) ? 'onscroll' : 'scroll',\n        resized = false,\n        scrolled = false,\n        requestAnimFrame = (function () {\n            return window.requestAnimationFrame ||\n                window.webkitRequestAnimationFrame ||\n                window.mozRequestAnimationFrame ||\n                function (callback) {\n                    window.setTimeout(callback, 1000 / 60);\n                };\n        }());\n\n    function update() {\n\n        // No changing, exit\n        if (!resized && !scrolled) { return; }\n\n        var eve = resized ? 'resize' : 'scroll';\n\n        // Updates viewport\n        this.refresh();\n\n        // Change status\n        resized = false;\n        scrolled = false;\n\n        // Emits the current event\n        this.emit(eve);\n    }\n\n    /**\n     * Events\n     */\n    on(RESIZE, function () { resized = true; });\n    on(SCROLL, function () { scrolled = true; });\n\n\n    /**\n     * Viewport class\n     */\n    function Viewport() {\n\n        // Singleton pattern\n        if (!(this instanceof Viewport) && Viewport.getInstance === undefined) {\n            return new Viewport();\n        }\n\n        if (Viewport.getInstance) {\n            return Viewport.getInstance;\n        }\n\n        this.init();\n\n        return this;\n    }\n\n    Viewport.prototype = new Jvent();\n\n    Viewport.prototype.init = function () {\n        var that = this;\n\n        that.refresh();\n        that.calculateDeviceDimensions();\n\n        (function updateloop() {\n            requestAnimFrame(updateloop);\n            update.call(that);\n        }());\n\n        Viewport.getInstance = this;\n\n        return this;\n    };\n\n    Viewport.prototype.device = {};\n\n    Viewport.prototype.calculateDimensions = function () {\n        this.height = docEl.clientHeight;\n        this.width = docEl.clientWidth;\n\n        return this;\n    };\n\n    Viewport.prototype.calculateDeviceDimensions = function () {\n        this.device.height = win.screen.height;\n        this.device.width = win.screen.width;\n\n        return this;\n    };\n\n    Viewport.prototype.calculateScroll = function () {\n        var cachedTop = this.scrollY,\n            cachedBottom = this.height + cachedTop,\n            bottom;\n\n        this.scrollY = win.pageYOffset || docEl.scrollTop;\n        this.scrollX = win.pageXOffset || docEl.scrollLeft;\n        bottom = this.height + this.scrollY;\n\n        if (cachedTop !== this.scrollY && this.scrollY === 0) {\n            this.emit('top');\n\n        } else if (cachedBottom !== bottom && bottom >= doc.body.scrollHeight) {\n            this.emit('bottom');\n        }\n\n        return this;\n    };\n\n    Viewport.prototype.calculateOffset = function () {\n        this.top = this.scrollY;\n        this.right = this.scrollX + this.width;\n        this.bottom = this.scrollY + this.height;\n        this.left = this.scrollX;\n\n        return this;\n    };\n\n    Viewport.prototype.calculateMousePostition = function (eve) {\n        // add support for touch events ==> eve.changedTouches;\n        var coordX = 0,\n            coordY = 0;\n\n        eve = eve || window.event;\n\n        if (eve.pageX || eve.pageY) {\n            coordX = eve.pageX;\n            coordY = eve.pageY;\n\n        } else {\n            coordX = eve.clientX + doc.body.scrollLeft + docEl.scrollLeft;\n            coordY = eve.clientY + doc.body.scrollTop + docEl.scrollTop;\n        }\n\n        return {\n            'posX': coordX,\n            'posY': coordY\n        };\n\n    };\n\n    Viewport.prototype.calculateOrientation = function () {\n        this.orientation = (Math.abs(win.orientation) === 90)\n            ? 'landscape'\n            : 'portrait';\n\n        return this;\n    };\n\n    Viewport.prototype.inViewport = function (el) {\n        var r = el.getBoundingClientRect();\n\n        return (r.top >= 0) && (r.right <= this.width)\n            && (r.bottom <= this.height) && (r.left >= 0);\n    };\n\n    Viewport.prototype.isVisible = function (el) {\n        var r = el.getBoundingClientRect();\n\n        return (r.bottom >= 0 && r.top <= this.height);\n    };\n\n    Viewport.prototype.refresh = function () {\n        this.calculateDimensions();\n        this.calculateScroll();\n        this.calculateOffset();\n        this.calculateOrientation();\n\n        return this;\n    };\n\n    /**\n     * Expose Viewport\n     */\n    // AMD suppport\n    if (typeof window.define === 'function' && window.define.amd !== undefined) {\n        window.define('viewport', [], function () {\n            return new Viewport();\n        });\n\n    // CommonJS suppport\n    } else if (typeof module !== 'undefined' && module.exports !== undefined) {\n        module.exports = new Viewport();\n\n    // Default\n    } else {\n        window.viewport = new Viewport();\n    }\n}(this));","// source http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n(function() {\n    var lastTime = 0;\n    var vendors = ['webkit', 'moz'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame =\n          window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n\n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());",";/*\n* Fader Interaction\n*/\n(function(window, document) {\n\n/* configuration */\n\n    var RITHM = 1000 * 4; // 4s\n\n    var FADE_TIMEOUT = 500 // 500ms;\n\n/* scope */\n\n/* fade element */\n\n    var FadeElement = function($img) {\n        this.src = $img.src;\n        this.baseClassName = $img.className\n        this.element = $img;\n        return this;\n    }\n\n    FadeElement.prototype.fadeIn = function() {\n        var $this = this;\n        window.setTimeout(function() {\n            if ($this.element) {\n                $this.element.className = $this.baseClassName + ' fade-in';\n            }\n        }, FADE_TIMEOUT);\n        return $this;\n    };\n\n    FadeElement.prototype.fadeOut = function() {\n        var $this = this;\n        window.setTimeout(function() {\n            if ($this.element) {\n                $this.element.className = $this.baseClassName + ' fade-out';\n            }\n        }, FADE_TIMEOUT);\n        return $this;\n    };\n\n    FadeElement.prototype.reset = function() {\n        var $this = this;\n        if ($this.element) {\n            $this.element.className = $this.baseClassName;\n        }\n        return $this;\n    };\n\n    FadeElement.prototype.prepare = function() {\n        var $this = this;\n        if ($this.element) {\n            $this.element.className = $this.baseClassName + ' prepare';\n        }\n        return $this;\n    };\n\n/* Fade orchestrator */\n\n    function Orchestrator(window, document) {\n\n        // collection of Fade instances\n        var orchestra = [];\n\n        var $faders = document.querySelectorAll('.fader');\n        // iterate faders\n        for (var i = 0, $fader, len = $faders.length; i < len; i += 1) {\n             $fader = $faders[i];\n            // iterate images\n            // assign behavior\n            // console.log('fader', $fader);\n            var $figure = $fader.querySelectorAll('figure');\n            // console.log('figure', $figure);\n            var $imgs = $fader.getElementsByTagName('img');\n            // console.log('imgs', $imgs);\n            // console.log('imgs.len', $imgs.length);\n            for (var i = 0, len = $imgs.length; i < len; i += 1) {\n                // console.log('img', $img, $img.src);\n                orchestra[i] = new FadeElement($imgs[i]);\n                // orchestra[$img.src].fadeIn();\n            }\n        }\n\n        var iterator, iteration = 0, prev_iteration, next_iteration;\n        var $element, $prev_element, $next_element, $last_element;\n\n        function iterate() {\n\n            // clean\n            clearTimeout(iterator);\n\n            // maybe is necessary to reste iteration\n            if (iteration===orchestra.length) {\n                // console.log('need to restart iteration')\n                iteration = 0;\n                return iterator = setTimeout(iterate, RITHM || 4000);\n            }\n            // iteration = (iteration===(orchestra.length-1))? 0: iteration;\n            next_iteration = ((iteration+1)===orchestra.length)? 0: iteration+1;\n            prev_iteration = (iteration===0)? (orchestra.length-1): iteration-1;\n            last_iteration = (orchestra.length-2===0)? (orchestra.length-2): iteration-2;\n            // console.log('orchestra.length', orchestra.length);\n            // console.log('prev_iteration', prev_iteration);\n            // console.log('iteration', iteration);\n            // console.log('next_iteration', next_iteration);\n\n            $element = orchestra[iteration];\n            $prev_element = orchestra[prev_iteration];\n            $next_element = orchestra[next_iteration];\n            $last_element = orchestra[last_iteration];\n\n            // console.log(iteration);\n            // console.log($prev_element);\n            // console.log($element);\n            // console.log($next_element);\n\n            if ($last_element) {\n                $last_element.reset();\n            }\n\n            $prev_element.fadeOut();\n            $element.fadeIn();\n            $next_element.prepare();\n\n            iteration += 1;\n            // keep the rithm going\n            iterator = setTimeout(function(){\n                requestAnimationFrame(iterate);\n            }, RITHM || 4000);\n        }\n\n        // start the rithm\n        requestAnimationFrame(iterate);\n\n    }\n\n    // start\n    Orchestrator(window, document);\n\n}(window, document));",";/*\n* Fader Interaction\n*/\n(function(window, document) {\n\n/* configuration */\n\nvar nav, toggler;\n\n/* scope */\n\nfunction toggle(event) {\n\n    var anchor = event.target;\n\n    // Keep bubbling up through DOM until you find an anchor,\n    // you might have clicked the icon or the label element,\n    // and not the proper <a> tag\n    while (!anchor.className) {\n        // break if the #main is reachead\n        if (anchor === this) { break; }\n        // step up in the DOM to the next parent\n        anchor = anchor.parentNode;\n    }\n\n    if (/open/.test(anchor.className)) {\n        nav.className = \"global\";\n        anchor.className = \"toggler\";\n    } else {\n        nav.className = \"global open\";\n        anchor.className = \"toggler open\";\n    }\n}\n\n/* Menu orchestrator */\n\n    function Orchestrator(window, document) {\n\n        nav = document.getElementById('top');\n\n        toggler = document.querySelector('.toggler');\n\n        toggler.addEventListener('click', toggle);\n\n    }\n\n    // start\n    Orchestrator(window, document);\n\n}(window, document));","/**\n * Images.js\n *\n * Cycle all images with data-highres attribute\n * When any image with data-highres becomes\n * visible in the viewport it will load the\n * high resolution source provided in the attribute\n * will also asume that original src attribute\n * is the low resolution source provided\n *\n * @require viewport\n */\n\n(function(window, document) {\n\n    'use strict';\n\n    var viewport = window.viewport;\n    /**\n     * @class ImageElement\n     * @param HTMLImageElement\n     * @return ImageElement\n     */\n\n    var ImageElement = function($img) {\n        var $this = this;\n        $this.src = $img.src;\n        $this.element = $img;\n        $this.element.setAttribute('data-state', 'created');\n        $this.meta = {\n            isVisible: false,\n            isMobile: true,\n            isVertical: true,\n            verticalPosFix: '_v',\n            verticalEdge: 414\n        };\n        $this.baseClassName = $img.className;\n        $this.highResSrc = $img.getAttribute('data-highres');\n        if (!$this.highResSrc) {\n            // there's no highres source\n            // avoid calling resolve triggers\n            return $this;\n        }\n\n        /* resolve triggers */\n\n        $this.resolve();\n\n        if (viewport !== 'undefined') {\n            viewport.on('scroll', function() {\n                $this.resolve.call($this, this);\n            });\n            viewport.on('resize', function() {\n                $this.resolve.call($this, this);\n            });\n        }\n\n        return $this;\n    };\n\n    ImageElement.prototype.isVisible = function() {\n        var $this = this;\n        $this.meta.isVisible = typeof viewport.isVisible === 'function' && viewport.isVisible($this.element);\n        return $this.meta.isVisible;\n    };\n\n    ImageElement.prototype.isMobile = function() {\n        var $this = this;\n        $this.meta.isMobile = /Mobi/.test(navigator.userAgent);\n        return $this.meta.isMobile;\n    };\n\n    ImageElement.prototype.isHero = function() {\n        var $this = this;\n        return /hero/.test($this.src);\n    };\n\n    ImageElement.prototype.isVertical = function() {\n        var $this = this;\n        $this.meta.isVertical = false;\n        if (typeof viewport !== 'undefined') {\n            viewport.calculateDeviceDimensions();\n            $this.meta.isVertical = viewport.height > viewport.width;\n        }\n        return $this.meta.isVertical;\n    };\n\n    /**\n     * Determines if element should load high resolution image\n     * @method resolve\n     * @param viewport\n     * @return ImageElement\n     */\n    ImageElement.prototype.resolve = function() {\n        var $this = this;\n        if (viewport.isVisible($this.element)) {\n            $this.useHighRes();\n        }\n        return $this;\n    };\n\n    /**\n     * Updates src attribute of dom link, triggers a request and re-paint.\n     * @method updateSrc\n     * @return ImageElement\n     */\n    ImageElement.prototype.updateSrc = function() {\n        var $this = this;\n        // maybe no need to update at all\n        if ($this.src === $this.element.src) {\n            return $this;\n        }\n        $this.element.setAttribute('data-state', 'loading');\n        // Add vertical posfix only for Heros in Mobile or Vertical\n        if ($this.isHero() && ($this.isMobile() || $this.isVertical())) {\n            $this.src = $this.src.replace('.', $this.meta.verticalPosFix + '.');\n        }\n        var preload = new Image();\n        preload.src = $this.src;\n        preload.onload = function() {\n            preload = null;\n            $this.element.src = $this.src;\n            $this.element.setAttribute('data-state', 'ready');\n        }\n\n        return $this;\n    };\n\n    /**\n* @!out-of-service\n* Load low resolution source\n* @method useLoweRes\n* @return ImageElement\n    ImageElement.prototype.useLoweRes = function() {\n        var $this = this;\n        if ($this.loweResSrc) {\n            $this.src = $this.loweResSrc;\n            $this.updateSrc();\n        }\n        return $this;\n    };\n*/\n\n    /**\n     * Load high resolution source\n     * @method useHighRes\n     * @return ImageElement\n     */\n    ImageElement.prototype.useHighRes = function() {\n        var $this = this;\n        if ($this.highResSrc) {\n            $this.src = $this.highResSrc;\n            $this.updateSrc();\n        }\n        return $this;\n    };\n\n\n    /**\n     * Finds images and creates a new ImageElement linked to it.\n     * @class orchestrator\n     */\n    function Orchestrator(window, document) {\n\n        var i, $img, $imgs = document.getElementsByTagName('img');\n\n        for (i = 0; i < $imgs.length; i += 1) {\n            $img = $imgs[i];\n            if (!$img.getAttribute('data-highres')) {\n                continue;\n            }\n            new ImageElement($img);\n        }\n    }\n\n    // run orchestrator\n    Orchestrator(window, document);\n\n}(window, document));"]}